{
    "nodes": [
        {
            "id": "bootstrap_node",
            "type": "bootstrap",
            "ipv4Address": "127.0.0.1",
            "tcpPort": 7001 
        },
        {
            "id": "requestor_node",
            "type": "requestor",
            "extAddress": 5002,
            "datastorePort": 8701,
            "datastoreUsername": "postgres",
            "datastorePassword": "postgres",
            "useMdns": true
        },
        {
            "id": "trainer_node",
            "type": "trainer",
            "extAddress": 6001,
            "datastorePort": 8702,
            "datastoreUsername": "postgres",
            "datastorePassword": "postgres",
            "useMdns": true
        },
        {
            "id": "celestial_node",
            "type": "celestial",
            "datastorePort": 5432,
            "datastoreUsername": "postgres",
            "datastorePassword": "postgres"
        }
    ],

    "steps": [
        {
            "description": "Requestor is requesting the network to train a model for classifying cats v.s. dogs",
            "nodeId": "requestor_node",
            "action": "POST /node/topic/add",
            "body": {
                "topic": "cats v.s. dogs"
            } 
        },
        {
            "description": "Trainer is searching for all topics that have been published to the cosmos",
            "nodeId": "trainer_node",
            "action": "GET /cosmos/topics/get",
            
            "_comment": "stateKey will make the result of this action accessible across other actions this node takes part in",
            "stateKey": "COSMOS_TOPICS" 
        },
        {
            "description": "Trainer is adding the topic that has been found in the cosmos",
            "nodeId": "trainer_node",
            "action": "POST /node/topic/add",
            "body": {
                "topic": "{$COSMOS_TOPICS.topics.allTopics[0].topic_name}",
                "requestorId": "{$COSMOS_TOPICS.topics.allTopics[0].node_id}",
                "path": "/home/samrat/Documents/scatterchain/training/data/cats v.s. dogs"
            } 
        },
        {
            "description": "Requestor initializes the training procedure",
            "nodeId": "requestor_node",
            "action": "POST /node/training/start",
            "body": {
                "topic": "cats v.s. dogs"
            } 
        }
    ]
}